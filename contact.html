<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Contact Us - Trattoria Luminosa</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <h1>Contact Us</h1>
  </header>

  <main>
    <section class="contact-section">
      <form onsubmit="saveName()">
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" placeholder="Your Name" required />

        <label for="email">Email:</label>
        <input type="email" id="email" name="email" placeholder="Your Email" required />

        <label for="message">Message:</label>
        <textarea id="message" name="message" placeholder="Your Message" required></textarea>

        <button type="submit">Send Message</button>
      </form>
    </section>

    <section class="map-section">
      <iframe
        src="https://www.google.com/maps?q=London,+UK&output=embed"
        width="100%"
        height="350"
        style="border:0;"
        allowfullscreen=""
        loading="lazy"
        referrerpolicy="no-referrer-when-downgrade">
      </iframe>
    </section>
  </main>

  <div id="cookie-banner" class="cookie-banner">
    <p>This website uses cookies to ensure you get the best experience. <button onclick="acceptCookies()">Accept</button></p>
  </div>

  <script>
    function acceptCookies() {
      document.cookie = "cookiesAccepted=true; max-age=31536000";
      document.getElementById("cookie-banner").style.display = "none";
    }

    function getCookie(name) {
      const value = `; ${document.cookie}`;
      const parts = value.split(`; ${name}=`);
      if (parts.length === 2) return parts.pop().split(";").shift();
    }

    function saveName() {
      const name = document.getElementById("name").value;
      document.cookie = "visitorName=" + name + "; max-age=31536000";
    }

    window.onload = function () {
      if (document.cookie.indexOf("cookiesAccepted=true") === -1) {
        document.getElementById("cookie-banner").style.display = "block";
      }
      const name = getCookie("visitorName");
      if (name) {
        document.getElementById("name").value = name;
        alert(`Welcome back, ${name}!`);
      }
    };
  </script>
</body>
</html>
